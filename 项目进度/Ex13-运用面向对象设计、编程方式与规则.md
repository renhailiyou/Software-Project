## 实验十三
### 实验目的
1、学习设计模式，能在项目设计中运用设计模式进行面向对象设计  
2、编程指导原则：讨论程序编写方式与规则    

### 设计模式
#### 单例模式：
特点：确保一个类只有一个实例，并提供全局访问点。
示例：数据库连接池、日志记录器等。
#### 观察者模式：
特点：定义对象间的一对多依赖关系，使得当一个对象状态改变时，其相关依赖对象都会收到通知并自动更新。
示例：GUI界面中的事件监听器、发布-订阅系统等。
#### 策略模式：
特点：定义一系列算法，并使它们可以互换使用，使算法的变化独立于使用算法的客户端。
示例：排序算法的选择、支付方式的选择等。
#### 工厂模式：
特点：定义一个用于创建对象的接口，由子类决定实例化的类是哪一个，将对象的实例化延迟到子类。
示例：图形对象的创建、数据库访问对象的创建等。
#### 在项目中的模式应用：
##### 观察者模式：
用于个人记录模块和社区交流模块之间的交互。当用户在个人记录模块中更新了个人数据时，可以通过观察者模式通知社区交流模块更新动态展示，点赞和收藏等。
##### 工厂模式：
在热量查询模块中，可以使用工厂模式根据用户查询的食物或奶茶类型来创建相应的热量查询对象，将对象的实例化延迟到子类，提高灵活性和可扩展性。
##### 策略模式：
个人记录模块中的减重方案可以使用策略模式来实现。根据用户选择的减重方案，可以通过策略模式动态切换不同的算法来计算每日摄入卡路里的总量，提供个性化的建议和提醒。
##### 原则原因
这些设计模式能够帮助提高代码的可维护性、可扩展性和重用性，同时降低模块之间的耦合度，使系统更加灵活和易于维护。根据具体需求和项目规模，可以选择适合的设计模式来实现健康管理系统。

### 编程规范
#### 阿里编程规范
通过对于网上阿里编程规范的学习，可以知道阿里编程规范是阿里巴巴集团在多年的软件开发实践中总结出的经验和教训，被广泛应用于Java开发领域。遵循这些规范可以帮助开发团队保持一致的编码风格，提高代码的可读性和可维护性，减少潜在的bug和问题，从而提高软件开发的效率和质量。
##### 核心原则和要点：
##### 命名规范：
采用清晰、具有描述性的命名方式，避免使用拼音、缩写和无意义的命名，统一使用英文单词、驼峰命名等规范。
##### 代码格式化：
统一使用四个空格缩进，避免使用制表符进行缩进，采用大括号换行的风格，合理使用空格、换行和注释来增强代码的可读性。
##### 注释规范：
注释应清晰明了，对代码进行解释、补充和说明，包括类、方法、变量的注释，特殊处理的代码片段注释等。
##### 异常处理：
正确处理异常，避免空捕获、捕获异常后不进行处理等情况，合理使用异常的层次结构，避免过多的嵌套和滥用异常。
##### 并发编程：
合理使用并发编程的相关类和方法，如线程池、原子类等，避免过多的锁竞争和死锁的发生。
##### 安全规范：
编写安全的代码，包括防止SQL注入、XSS攻击、文件上传漏洞等，对用户输入进行合理的验证和过滤，保证系统的安全性。
##### 代码重构：
及时进行代码重构，提高代码的可维护性和可读性，消除重复代码、提取公共方法等，遵循单一职责原则和开闭原则。
##### 版本控制：
合理使用版本控制工具，如Git，进行代码的版本管理，规范代码的提交和分支管理，保证团队协作的顺利进行。
#### 华为编程军规
#### 内容和部分说明：
##### 避免在程序中使用魔鬼数字，必须用有意义的常量来标识。 
说明：是否是魔鬼数字要基于容易阅读和便于全局替换的原则。0、1作为某种专业领域物理量枚举数值时必须定义常量，严禁出现类似NUMBER_ZERO的“魔鬼常量”。
##### 明确方法的功能，一个方法仅完成一个功能。
说明：方法功能太多，会增加方法的复杂度和依赖关系，不利于程序阅读和将来的持续维护，无论是方法还是类设计都应符合单一职责原则。
##### 方法参数不能超过5个
说明：参数太多影响代码阅读和使用，为减少参数，首先要考虑这些参数的合理性，保持方法功能单一、优化方法设计，如果参数确实无法减少，可以将多个参数封装成一个类（对象），同时考虑在新的类（对象）中增加相应的行为，以期更符合OOP。
##### 方法调用尽量不要返回null
取而代之以抛出异常，或是返回特例对象（SPECIAL CASE object，SPECIAL CASE PATTERN）；对于以集合或数组类型作为返回值的方法，取而代之以空集合或0长度数组。
说明：返回null会增加不必要的空指针判断，遗漏判断也会导致严重的NullPointerException错误。
##### 在进行数据库操作或IO操作时，必须确保资源在使用完毕后得到释放，并且必须确保释放操作在finally中进行。
说明：数据库操作、IO操作等需要关闭对象必须在try -catch-finally 的finally中close()，如果有多个IO对象需要关闭，需要分别对每个对象的close()方法进行try-catch,防止一个IO对象关闭失败其他IO对象都未关闭。
##### 异常捕获不要直接 catch(Exception ex) ，应该把异常细分处理。
说明：catch (Exception ex)的结果会把RuntimeException异常捕获，RuntimeException是运行期异常，是程序本身考虑不周而抛出的异常，是程序的BUG，如无效参数、数组越界、被零除等，程序必须确保不能抛出RuntimeException异常，不允许显示捕获RuntimeException异常就是为了方便测试中容易发现程序问题。
##### 对于条件判断，最后必须包含一个else分支，避免出现分支遗漏造成错误；
##### 每个switch-case语句都必须保证有default，避免出现分支遗漏，造成错误。
##### 覆写对象的equals()方法时必须同时覆写hashCode()方法。
说明：equals和hashCode方法是对象在hash容器内高效工作的基础，正确的覆写这两个方法才能保证在hash容器内查找对象的正确性，同时一个好的hashCode方法能大幅提升hash容器效率。
##### 禁止循环中创建新线程，尽量使用线程池。
##### 在进行精确计算时(例如:货币计算)避免使用float和double，浮点数计算都是不精确的，必须使用BigDecimal或将浮点数运算转换为整型运算。
说明：浮点运算在一个范围很广的值域上提供了很好的近似，但是它不能产生精确的结果。二进制浮点对于精度计算是非常不适合的，因为它不可能将0.1——或者10的其它任何次负幂精确表示为一个长度有限的二进制小数。
